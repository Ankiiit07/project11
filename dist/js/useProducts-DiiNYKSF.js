var r=Object.defineProperty,e=Object.defineProperties,t=Object.getOwnPropertyDescriptors,o=Object.getOwnPropertySymbols,n=Object.prototype.hasOwnProperty,l=Object.prototype.propertyIsEnumerable,u=(e,t,o)=>t in e?r(e,t,{enumerable:!0,configurable:!0,writable:!0,value:o}):e[t]=o,c=(r,e)=>{for(var t in e||(e={}))n.call(e,t)&&u(r,t,e[t]);if(o)for(var t of o(e))l.call(e,t)&&u(r,t,e[t]);return r},a=(r,o)=>e(r,t(o)),s=(r,e,t)=>new Promise((o,n)=>{var l=r=>{try{c(t.next(r))}catch(e){n(e)}},u=r=>{try{c(t.throw(r))}catch(e){n(e)}},c=r=>r.done?o(r.value):Promise.resolve(r.value).then(l,u);c((t=t.apply(r,e)).next())});import{r as i}from"./react-vendor-CouUomew.js";import{s as d}from"./supabaseService-CrmkU48r.js";function f(r){return function(r){const[e,t]=i.useState({product:null,loading:!0,error:null});return i.useEffect(()=>{let e=!0;return(()=>{s(this,null,function*(){if(r)try{t(r=>a(c({},r),{loading:!0,error:null}));const o=yield d.getProduct(r);e&&t({product:o,loading:!1,error:null})}catch(o){e&&t({product:null,loading:!1,error:o instanceof Error?o.message:"Failed to fetch product"})}})})(),()=>{e=!1}},[r]),e}(r)}function p(){return function(){const[r,e]=i.useState({products:[],loading:!0,error:null});return i.useEffect(()=>{let r=!0;return(()=>{s(this,null,function*(){try{e(r=>a(c({},r),{loading:!0,error:null}));const t=yield d.getFeaturedProducts();r&&e({products:t,loading:!1,error:null})}catch(t){r&&e({products:[],loading:!1,error:t instanceof Error?t.message:"Failed to fetch featured products"})}})})(),()=>{r=!1}},[]),r}()}function g(r){const[e,t]=i.useState({products:[],loading:!0,error:null});return i.useEffect(()=>{let e=!0;return(()=>{s(this,null,function*(){if(r)try{t(r=>a(c({},r),{loading:!0,error:null}));const o=yield d.getProductsByCategory(r);e&&t({products:o||[],loading:!1,error:null})}catch(o){e&&t({products:[],loading:!1,error:o instanceof Error?o.message:"Failed to fetch products by category"})}})})(),()=>{e=!1}},[r]),e}export{f as a,g as b,p as u};
